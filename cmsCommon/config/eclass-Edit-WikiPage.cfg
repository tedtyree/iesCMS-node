// EDITCLASS: Edit-WikiPages
// Format: Flex JSON
// Copyright ieSimplified LLC, 2017  ALL RIGHTS RESERVED
// When MasterFiles is defined, it indicates that the master copy of the objects are config files stored in a folder
//   rather than objects (records) in the database.  These JSON objects stored in config files may also have a copy stored
//   in the wObjects table as well... and may be tracked in wObjHist
{ClassName:Edit-WikiPages
,Title:Edit Pages
,Description:"Class to define edit/object fields for admin maintenance of Wiki Pages"
,AdminSecLevel:7
,EditSecLevel:5
,ViewSecLevel:5
,ShowAllParams:false
,Defaults:{WorldID:"{{WorldID}}",Created:"{{now}}",CreatedBy:"{{UserNo}}",Template:"Main",Status:Active}
,Override:{ObjType:WikiPage}
,EditFields:[{Field:pageid,Type:text,Width:150,Flags:bla,Alias:Page ID}
	,{Field:Title,Type:text,Width:280,Flags:b}
	,{Field:Created,Type:date,Height:35,Width:150,Flags:}
	,{Field:MinViewLevel,Type:pList-UserLevels,Height:35,Width:190,Flags:}
	,{Field:MinEditLevel,Type:pList-UserLevels,Height:35,Width:190,Flags:}
	,{Field:Tags,Type:text,Height:35,Width:190,Flags:}
	,{Field:Template,Type:list-templates,Height:35,Width:190,Flags:}
	,{Field:Status,Type:list-status,Height:35,Width:120,Flags:}
	,{Field:WikiHTML,Type:richtext,Height:800,Width:660,Flags:,Alias:"Page Content"}
	,{Field:Page_Description,Type:note,Height:70,Width:660,Alias:"Page Description"}
	,{Field:Page_Keywords,Type:note,Height:70,Width:660,Alias:"Page Keywords"}
	,{Field:Page_Title,Type:text,Width:480,Alias:"Title HTML"}										   
]			
,Notes:	""
,ReadFromSource:"wikipage" // Options: table(default), config(must specify MasterFiles), wikipage(must specify MasterFiles)
,Table:"wikipages"
,PrimaryKey:"pageid"
,PrimaryKeyNumeric:false
,UserEntersNewKey:true	
,UniqueCheck:[pageid]
,SearchTable:"webpages"
,OrderBy:"PageName"
,OrderBy2:"[ [0, 'asc' ] ]"
,SpecialFlags:"ShowNew,DateModified"
,SearchList:[{Field:pageid,Width:70,Flags:sl}
		,{Field:Title,Width:90,Flags:sl}
		,{Field:Status,Width:40,Flags:s}
		,{Field:PageIdx,Width:35,Flags:s}
		,{Field:PageLink,Alias:View Page,Width:35,Flags:s}
		]
,ShowChildren:false
,ShowEditChild:false	
,ShowParents:false	
,DisableDelete:false
,AllowCreate:true
,pList-UserLevels:{ListType:json,data:[[0,Public],[1,Member],[5,Admin],[7,SAdmin]]}
//,Where:"WorldID='{{WorldID}}'"
,WriteToTable:null
,WriteToHistory:wikihistory
,WriteToFiles:[{
	FilePath:"{{pageFolder}}\\{{pageid}}.cfg"
	,Field:"WikiHTML"
	,IncludeJsonHeader:true
	,HeaderExcludes:"worldid,wiki,wikihtml,origpageid,content"
   }]
,MasterFiles:[{
	FolderPath:"{{pageFolder}}"
	,FileNameField:"pageid"
	,FileExt:".cfg"
	,FilePrefix:""
	,Field:"WikiHTML"
	,IncludeJsonHeader:true
   }]
}