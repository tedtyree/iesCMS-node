// EDITCLASS: Edit-SiteCfg
// Format: Flex JSON
// Copyright ieSimplified LLC, 2020  ALL RIGHTS RESERVED
// Admin form for editing select fields in the Site.cfg file
{ClassName:Edit-SiteCfg
,Title:SITE.cfg
,Description:"Admin form for editing select fields in the SITE.cfg file"
,AdminSecLevel:7
,EditSecLevel:5
,ViewSecLevel:5
,ShowAllParams:false
,Defaults:{WorldID:"{{WorldID}}",Created:"{{now}}",CreatedBy:"{{UserNo}}",Template:"Main",Status:Active}
,Override:{ObjType:WikiPage}
,EditFields:[
	 {Field:SiteID,Type:text,Width:280,Flags:bla}
	,{Field:FORM_SendTo_DEFAULT,Type:text,Width:280,Flags:,Alias:"Email Send To"}		
	,{Field:FORM_CC,Type:text,Width:280,Flags:,Alias:"Email CC"}	
]			
,Notes:	""
,ReadFromSource:"config" // Options: table(default), config(must specify MasterFiles), wikipage(must specify MasterFiles)
,Table:""
,PrimaryKey:"id"
,PrimaryKeyNumeric:false
,UserEntersNewKey:true	
,SearchTable:""
,OrderBy:"PageName"
,OrderBy2:"[ [0, 'asc' ] ]"
,SpecialFlags:""
,SearchList:[{Field:pageid,Width:70,Flags:sl}
		,{Field:Title,Width:90,Flags:sl}
		,{Field:Status,Width:40,Flags:s}
		,{Field:PageIdx,Width:35,Flags:s}
		,{Field:PageLink,Alias:View Page,Width:35,Flags:s}
		]
,ShowChildren:false
,ShowEditChild:false	
,ShowParents:false	
,DisableDelete:false
,pList-UserLevels:{ListType:json,data:[[0,Public],[1,Member],[5,Admin],[7,SAdmin]]}
//,Where:"WorldID='{{WorldID}}'"
,WriteToTable:null
// ,WriteToHistory:wHistory // Future: write record to a histroy table
,WriteToFiles:[{
	Filename:"{{id}}.cfg"
	,FilePath:"{{baseFolder}}\\{{Filename}}"
	,Field:"WikiHTML"
	,IncludeJsonHeader:true
	,HeaderExcludes:"worldid,wiki,wikihtml,origpageid,content"
   }]
,MasterFiles:[{
	FolderPath:"{{baseFolder}}"
	,FileNameField:"id"
	,FileExt:".cfg"
	,FilePrefix:""
   }]
}